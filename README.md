[![yamdb_final](https://github.com/frizzz17/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)](https://github.com/frizzz17/yamdb_final/actions)

# yamdb_final
yamdb_final

### Описание:
Проект предназначен для обмена данными в формате **JSON**. Создавайте, удаляйте, редактируйте и получайте посты и коментарии. Подписывайтесь на других пользователей. Весь обмен происходит посредством API.

### Как пользоваться:
- Клонируйте проект из репозитрия в свою рабочую директорию командой ```git clone <адрес репозитория>```.
- Зайдите в дирректорию с файлом docker-compose.yaml
- Разверните проект на локальной машине командой ```docker-compose up```.
- Проверьте работу проекта по адресу http://localhost/

Создайте файл .env в корневой директории проекта и заполните его данными по этому
образцу:

```
SECRET_KEY='django-insecure-nsxoy+s&z^f(2$vot&-m!3+uacrm1jikv6!mb+ut&*thlrn=m7'
DB_ENGINE=django.db.backends.postgresql
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432
DEBUG=False
```

### Примеры:
**GET** ```/api/v1/posts/``` - получить все публикации.
- **Reponse 200**  - удачное выполнение запроса баз пагинации

**POST** ```/api/v1/posts/``` - создать публикацию (только аутентифицированный пользователь)
 - **Response 201** - удачное выполнение запроса
 - **Response 400** -отсутствует обязательное поле в теле запроса
 - **Response 401** - запрос от имени анонимнго пользователя


 **GET** ```/api/v1/posts/{id}/``` - получение публикации по id
- **Response 200** - удачное выполнение запроса
- **Response 404** - попытка запроса несуществующей публикации
 
**PUT** ```/api/v1/posts/{id}/``` - Обновление публикации по id (только для автора)
- **Response 200** - удачное выполнение запроса
- **Response 400** - отсутствует обязательное поле в теле запроса
- **Response 401** - запрос от имени анонимного пользователя
- **Response 403** - попытка изменения чужого контента
- **Response 404** - попытка изменения несуществующей публикации

**PATCH** ```/api/v1/posts/{id}/``` - частичное обновление публикации (только для автора)
- **Response 200** - удачное выполнение запроса
- **Response 401** - запрос от имени анонимного пользователя
- **Response 403** - попытка изменения чужого контента
- **Response 404** - попытка изменнения несуществующей публикации

**DELETE** ```/api/v1/posts/{id}/``` - удаление публикации (только для автора)
- **Response 204** - удачное выполнение запроса
- **Response 401** - запрос от имени анонимного пользователя
- **Response 403** - попытка изменения чужого контента
- **Response 404** - попытка удаления несуществующей публикации

**GET** ```/api/v1/posts/{post_id}/comments/``` - получение коментариев
- **Response 200** - удачное выполнение запроса
- **Response 404** - попытка списка коментариев к несуществующей публикации

**POST** ```/api/v1/posts/{post_id}/comments/{id}/``` - добавление комментария только аутентифицированный пользователь
- **Response 201** - удачное выполнение запроса
- **Response 400** - отстутствует обязательное поле в теле запроса
- **Response 401** - запрос от имени анонимного пользователя
- **Response 404*** - попытка добавить комментарий к несуществующей публикации

**GET** ```/api/v1/posts/{post_id}/comments/{id}/``` - получение комментария (только для автора)
- **Response 200** - удачное выполнение запроса
- **Response 404** - попытка запросить несуществующий комментарий или к несуществующей публикации

**PUT** ```/api/v1/posts/{post_id}/comments/{id}/``` - обновление комментария (только для автора)
- **Response 200** - удачное выполнение запроса
- **Response 400** - отстутствует обязательное поле в теле запроса
- **Response 403** - попытка изменения чужого контента
- **Response 404** - попытка изменить несуществующий комментарий к несуществующей области

**PATCH** ```/api/v1/posts/{post_id}/comments/{id}/``` - частичное обновление комментария (только для автора)
- **Response 200** - удачное выполнение запроса
- **Response 401** - запрос от имени анонимного пользователя

**DELETE** ```/api/v1/posts/{post_id}/comments/{id}/``` - удаление комментария (только для автора)
- **Response 204** - удачное выполнение запроса
- **Response 401** - запрос от имени анонимного пользователя
- **Response 403** - попытка изменения чужого контента
- **Response 404** - попытка удалить несуществующий комментарий или к несуществующей публикации

**GET** ```/api/v1/groups/``` - получение списка сообществ
- **Response 200** - удачное выполнение запроса

**GET** ```/api/v1/groups/{id}```/ - информация о сообществе
- **Response 200** - удачное выполнение запроса
- **Response 404** - попытка запроса несуществующего сообщества

**GET** ```/api/v1/groups/follow/``` - вернуть все подписки пользователя (только аутентифицированные пользователи)
- **Response 200** - удачное выполнение запроса
- **Response 401** - запрос от имени анонимного пользователя

**POST** ```/api/v1/groups/follow/``` - подписка на пользователя (только аутентифицированные пользователи)
- **Response 201** - удачное выполнение запроса
- **Response 400** -отстутсвует обязательное поле в теле запроса или оно не соответствует требованиям
- **Response 401** - запрос от имени анонимного пользователя

**POST** ```/api/v1/jwt/create/``` - получение JWT - токена
- **Response 200** - удачное выполнение запроса
- **Response 400** -отстутсвует обязательное поле в теле запроса или оно не соответствует требованиям
- **Response 401** - переданная учетная запись не существует

**POST** ```/api/v1/jwt/refresh/``` - обновить JWT - токен (только аутентифицированные пользователи)
- **Response 200** - удачное выполнение запроса
- **Response 400** -отстутсвует обязательное поле в теле запроса или оно не соответствует требованиям
- **Response 401** - переданная невалидный токен

### Технологии:
* Dango 2.2.16
* Python 3.7
* Django rest framework 3.12.4
* djangorestframework-simplejwt 4.7.2

### Авторы:
- Yandex практикум
- Andrey Frizen

### Ссылка на проект
http://51.250.16.120/
